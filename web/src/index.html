<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/45a7f34b95.js" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
    <link type="image/x-icon" rel="shortcut icon" href="css/favicon.ico">
    <title>Cowork</title>
</head>
<body>
    <!-- Заголовок -->
    <div class="header">
        <h1>SPBGUT COWORK</h1>
        <h2>Взаимодействие со смарт-контрактом в сети IOTA</h1>
        <span>Адрес вашего кошелька: </span> <span id="wallet"></span>
    </div>

    <!-- Основная часть -->
    <div class="main">
        <div class="reservation-block">
            <label for="addWallet" class="useraddress">Введите адрес кошелька для бронирования:</label><br>
            <input type="text" class="input-user-wallet" id="addWallet">

            <p class="info"><mark>Аренда рабочего места, помещения</mark><br>Выберите день недели и помещение для бронирования места:</p>
            <form>
                <select id="addDay" class="dayselector">
                    <option value="0">Понедельник</option>
                    <option value="1">Вторник</option>
                    <option value="2">Среда</option>
                    <option value="3">Четверг</option>
                    <option value="4">Пятница</option>
                    <option value="5">Суббота</option>
                    <option value="6">Воскресенье</option>
                </select>
            </form> 
            <br>
            <form>
                <select id="addRoom" class="placeselector">
                    <option value="0">Общее помещение</option>
                    <option value="1">Выделенный офис</option>
                    <option value="2">Открытая терасса</option>
                    <option value="3">Переговорная комната</option>
                    <option value="4">Комната с шумоизоляцией</option>
                </select>
            </form>
            <br>

            <button class="reserve-button" onclick="save()">Забронировать</button>
        </div>

        <!-- Для таблиц -->
        <div class="admin-panel">
            <div class="getting-data">
                <label for="readWallet" class="debug-input-label">Введите адрес кошелька для получения данных:</label>
                <br>(Или оставьте поле пустым для использования подключенного адреса)
                <br>
                <input type="text" class="inputread" id="readWallet">
                <br>
                <button class="readUser" onclick="readUser()">Просмотр данных пользователя</button>
                <button class="getalltable" onclick="getalltable()">Просмотр общих данных</button>
    
                <div id="showResult">
                    <div>
                        <span style="font-family: Arial, Helvetica, sans-serif; font-size: 16px;">Последний выбранный день: </span> <span id="targetDay"></span>
                    </div>
                    <div>
                        <span style="font-family: Arial, Helvetica, sans-serif; font-size: 16px;">Последнее выбранное помещение: </span> <span id="targetRoom"></span>
                    </div>
                </div>
                <div class="form-group">
                  <button class="clearusertable" onclick="clearusertable()">Очистить данные для пользователя</button>
                  <br>
                  <button class="clearalltable" onclick="clearalltable()">Очистить общие данные</button>
                  <br>
                  <button class="getbalance" onclick="getbalance()">Узнать баланс</button><br>
                  <span style="font-family: Arial, Helvetica, sans-serif; font-size: 16px;">Баланс контракта (wei): </span> <span id="balance"></span>
                  <br>
                  <button class="withdraw" onclick="withdraw()">Вывод средств</button>
                </div>
                <br>
                <div id="tablearr"></div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <h4>Студенты СПБГУТ:<br>Дворецков Кирилл<br>Мартынюк Анастасия<br>Миронов Кирилл</h3>
    </div>
    <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"
        type="application/javascript"></script>
<script src='./js/web3_script.js' type='text/javascript'></script>
</body>
</html>